<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deadlines de Confer√™ncias - Grupo de Pesquisa</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #34495e;
            --success-color: #27ae60;
            --warning-color: #f39c12;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--dark-color));
            color: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 0;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .search-box {
            flex: 1;
            min-width: 250px;
            position: relative;
        }
        
        .search-box input {
            width: 100%;
            padding: 0.8rem 1rem 0.8rem 2.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        .search-icon {
            position: absolute;
            left: 0.8rem;
            top: 50%;
            transform: translateY(-50%);
            color: #777;
        }
        
        .filter-section {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        select {
            padding: 0.8rem 1rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: white;
            font-size: 1rem;
            cursor: pointer;
        }
        
        .conference-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
        }
        
        .conference-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            padding: 1.5rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border-left: 4px solid var(--secondary-color);
        }
        
        .conference-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }
        
        .conference-name {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--primary-color);
        }
        
        .conference-field {
            display: inline-block;
            background-color: var(--light-color);
            color: var(--dark-color);
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.85rem;
            margin-bottom: 1rem;
        }
        
        .deadline-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.8rem 0;
            border-bottom: 1px solid #eee;
        }
        
        .deadline-item:last-child {
            border-bottom: none;
        }
        
        .deadline-type {
            font-weight: 500;
        }
        
        .deadline-date {
            font-weight: 600;
            color: var(--accent-color);
        }
        
        .days-left {
            background-color: var(--warning-color);
            color: white;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        
        .urgent {
            background-color: var(--accent-color);
        }
        
        .footer {
            text-align: center;
            margin-top: 3rem;
            padding: 1.5rem 0;
            border-top: 1px solid #ddd;
            color: #777;
            font-size: 0.9rem;
        }
        
        .loading {
            text-align: center;
            padding: 2rem;
            font-size: 1.2rem;
            color: var(--dark-color);
        }
        
        .error {
            text-align: center;
            padding: 2rem;
            background-color: #ffebee;
            color: var(--accent-color);
            border-radius: 8px;
            margin: 2rem 0;
        }
        
        @media (max-width: 768px) {
            .controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .search-box {
                min-width: 100%;
            }
            
            .conference-list {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Deadlines de Confer√™ncias</h1>
            <p class="subtitle">Acompanhe os prazos das principais confer√™ncias de IA</p>
        </div>
    </header>
    
    <main class="container">
        <div class="controls">
            <div class="search-box">
                <span class="search-icon">üîç</span>
                <input type="text" id="searchInput" placeholder="Pesquisar confer√™ncias...">
            </div>
            <div class="filter-section">
                <select id="fieldFilter">
                    <option value="">Todos os campos</option>
                    <option value="AI">Intelig√™ncia Artificial</option>
                    <option value="CV">Vis√£o Computacional</option>
                    <option value="NLP">Processamento de Linguagem Natural</option>
                </select>
                <select id="timeFilter">
                    <option value="all">Todos os prazos</option>
                    <option value="upcoming">Pr√≥ximos 30 dias</option>
                    <option value="past">Prazos passados</option>
                </select>
            </div>
        </div>
        
        <div id="conferenceContainer" class="conference-list">
            <div class="loading">Carregando confer√™ncias...</div>
        </div>
    </main>
    
    <footer class="footer">
        <div class="container">
            <p>Dados obtidos do reposit√≥rio <a href="https://github.com/ccfddl/ccf-deadlines" target="_blank">ccfddl/ccf-deadlines</a></p>
            <p>Atualizado automaticamente conforme o reposit√≥rio original</p>
        </div>
    </footer>

    <script>
        // URL base para os dados do reposit√≥rio
        const BASE_URL = 'https://raw.githubusercontent.com/ccfddl/ccf-deadlines/main/conference/AI';
        
        // Lista de arquivos JSON que cont√™m informa√ß√µes sobre as confer√™ncias
        // Estou usando alguns exemplos, voc√™ pode expandir esta lista conforme necess√°rio
        const CONFERENCE_FILES = [
            'AAAI.json',
            'CVPR.json',
            'ICML.json',
            'NeurIPS.json',
            'ICLR.json',
            'ACL.json',
            'EMNLP.json',
            'IJCAI.json'
        ];
        
        // Elementos DOM
        const conferenceContainer = document.getElementById('conferenceContainer');
        const searchInput = document.getElementById('searchInput');
        const fieldFilter = document.getElementById('fieldFilter');
        const timeFilter = document.getElementById('timeFilter');
        
        // Array para armazenar todas as confer√™ncias carregadas
        let allConferences = [];
        
        // Fun√ß√£o para carregar os dados das confer√™ncias
        async function loadConferences() {
            conferenceContainer.innerHTML = '<div class="loading">Carregando confer√™ncias...</div>';
            
            try {
                const promises = CONFERENCE_FILES.map(file => 
                    fetch(`${BASE_URL}/${file}`)
                        .then(response => {
                            if (!response.ok) throw new Error(`Erro ao carregar ${file}`);
                            return response.json();
                        })
                        .catch(error => {
                            console.error(`Erro ao carregar ${file}:`, error);
                            return null;
                        })
                );
                
                const results = await Promise.all(promises);
                allConferences = results.filter(conf => conf !== null);
                
                displayConferences(allConferences);
            } catch (error) {
                console.error('Erro ao carregar confer√™ncias:', error);
                conferenceContainer.innerHTML = '<div class="error">Erro ao carregar os dados das confer√™ncias. Tente novamente mais tarde.</div>';
            }
        }
        
        // Fun√ß√£o para exibir as confer√™ncias
        function displayConferences(conferences) {
            if (conferences.length === 0) {
                conferenceContainer.innerHTML = '<div class="error">Nenhuma confer√™ncia encontrada com os filtros aplicados.</div>';
                return;
            }
            
            conferenceContainer.innerHTML = '';
            
            conferences.forEach(conference => {
                const card = document.createElement('div');
                card.className = 'conference-card';
                
                // Calcular dias restantes para o deadline mais pr√≥ximo
                const today = new Date();
                const deadlines = conference.deadlines || [];
                let closestDeadline = null;
                let daysLeft = null;
                
                if (deadlines.length > 0) {
                    // Encontrar o deadline mais pr√≥ximo no futuro
                    const futureDeadlines = deadlines.filter(d => new Date(d.date) >= today);
                    if (futureDeadlines.length > 0) {
                        closestDeadline = futureDeadlines.reduce((prev, curr) => 
                            new Date(prev.date) < new Date(curr.date) ? prev : curr
                        );
                        
                        const deadlineDate = new Date(closestDeadline.date);
                        const timeDiff = deadlineDate - today;
                        daysLeft = Math.ceil(timeDiff / (1000 * 3600 * 24));
                    }
                }
                
                card.innerHTML = `
                    <h3 class="conference-name">${conference.name || 'Confer√™ncia sem nome'}</h3>
                    <span class="conference-field">${conference.field || 'IA'}</span>
                    
                    <div class="deadlines">
                        ${conference.deadlines && conference.deadlines.length > 0 ? 
                            conference.deadlines.map(deadline => {
                                const deadlineDate = new Date(deadline.date);
                                const isPast = deadlineDate < today;
                                const timeDiff = deadlineDate - today;
                                const days = Math.ceil(timeDiff / (1000 * 3600 * 24));
                                
                                return `
                                    <div class="deadline-item">
                                        <span class="deadline-type">${deadline.type || 'Abstract'}</span>
                                        <span class="deadline-date ${isPast ? 'past' : ''}">
                                            ${formatDate(deadlineDate)}
                                            ${!isPast ? `<span class="days-left ${days <= 30 ? 'urgent' : ''}">${days} dias</span>` : ''}
                                        </span>
                                    </div>
                                `;
                            }).join('') : 
                            '<p>Nenhum deadline dispon√≠vel</p>'
                        }
                    </div>
                `;
                
                conferenceContainer.appendChild(card);
            });
        }
        
        // Fun√ß√£o para formatar a data
        function formatDate(date) {
            return date.toLocaleDateString('pt-BR', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            });
        }
        
        // Fun√ß√£o para filtrar confer√™ncias
        function filterConferences() {
            const searchTerm = searchInput.value.toLowerCase();
            const fieldValue = fieldFilter.value;
            const timeValue = timeFilter.value;
            
            const today = new Date();
            
            const filtered = allConferences.filter(conference => {
                // Filtro por texto de pesquisa
                const matchesSearch = !searchTerm || 
                    (conference.name && conference.name.toLowerCase().includes(searchTerm)) ||
                    (conference.field && conference.field.toLowerCase().includes(searchTerm));
                
                // Filtro por campo
                const matchesField = !fieldValue || 
                    (conference.field && conference.field === fieldValue);
                
                // Filtro por tempo
                let matchesTime = true;
                if (timeValue === 'upcoming') {
                    matchesTime = conference.deadlines && conference.deadlines.some(d => {
                        const deadlineDate = new Date(d.date);
                        const timeDiff = deadlineDate - today;
                        const days = Math.ceil(timeDiff / (1000 * 3600 * 24));
                        return days > 0 && days <= 30;
                    });
                } else if (timeValue === 'past') {
                    matchesTime = conference.deadlines && conference.deadlines.some(d => {
                        const deadlineDate = new Date(d.date);
                        return deadlineDate < today;
                    });
                }
                
                return matchesSearch && matchesField && matchesTime;
            });
            
            displayConferences(filtered);
        }
        
        // Event listeners para os filtros
        searchInput.addEventListener('input', filterConferences);
        fieldFilter.addEventListener('change', filterConferences);
        timeFilter.addEventListener('change', filterConferences);
        
        // Inicializar a aplica√ß√£o
        loadConferences();
    </script>
</body>
</html>